<div class="container mt-4">
  <!-- Hero section -->
  <div class="text-center mb-5">
    <h1 class="display-4 mb-3">Browse Our Comprehensive Recipe Library</h1>
    <p class="lead text-muted">Discover a world of culinary delights, from quick weekday meals to gourmet weekend specialties</p>
    <hr class="my-4">
  </div>

  <!-- Categories quick links -->
  <div class="row mb-5">
    <div class="col-12">
      <h4 class="mb-3">Popular Categories</h4>
      <div class="d-flex flex-wrap gap-2">
        <button 
          *ngFor="let category of categories" 
          class="btn" 
          [class.btn-primary]="selectedCategory === category"
          [class.btn-outline-secondary]="selectedCategory !== category"
          (click)="onFilterCategory(category)">
          {{ category }}
        </button>
      </div>
    </div>
  </div>

  <!-- Recipe grid -->
  <div class="row">
    <div class="col-12 mb-4">
      <h4 class="mb-0">
        {{ selectedCategory ? selectedCategory + ' Recipes' : 'All Recipes' }}
        <small class="text-muted">({{ filteredRecipes.length }} recipes)</small>
      </h4>
      <button *ngIf="selectedCategory" class="btn btn-link" (click)="onFilterCategory(selectedCategory)">
        Clear filter
      </button>
    </div>

    <div class="col-md-4 mb-4" *ngFor="let recipe of filteredRecipes; let i = index">
      <div class="card h-100 shadow-sm">
        <img [src]="recipe.imagePath" class="card-img-top" [alt]="recipe.name" style="height: 200px; object-fit: cover;">
        <div class="card-body d-flex flex-column">
          <div class="mb-auto">
            <div class="d-flex justify-content-between align-items-start">
              <h5 class="card-title">{{ recipe.name }}</h5>
              <button 
                *ngIf="!recipe.isPersonal"
                class="btn btn-link p-0" 
                [class.text-danger]="isInMyRecipes(recipe)"
                (click)="toggleFavorite(recipe, $event)">
                <i class="bi" [class.bi-heart-fill]="isInMyRecipes(recipe)" [class.bi-heart]="!isInMyRecipes(recipe)"></i>
              </button>
            </div>
            <span class="badge bg-secondary mb-2">{{ recipe.category }}</span>
            <span class="badge ms-1" [class.bg-primary]="!recipe.isPersonal" [class.bg-success]="recipe.isPersonal">
              {{ recipe.isPersonal ? 'Personal' : 'Collected' }}
            </span>
            <p class="card-text">{{ recipe.description | slice:0:100 }}...</p>
          </div>
          <a [routerLink]="['/recipes', recipe.id]" class="btn btn-primary mt-3">View Details</a>
        </div>
      </div>
    </div>

    <!-- Empty state -->
    <div class="col-12 text-center py-5" *ngIf="filteredRecipes.length === 0">
      <h5 class="text-muted">No recipes found in this category</h5>
      <button class="btn btn-link" (click)="onFilterCategory(selectedCategory)">
        View all recipes
      </button>
    </div>
  </div>
</div>
