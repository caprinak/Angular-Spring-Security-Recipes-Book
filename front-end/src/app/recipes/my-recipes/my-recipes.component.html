<div class="container mt-4">
  <!-- Hero section -->
  <div class="text-center mb-5">
    <h1 class="display-4 mb-3">My Favorite Recipes</h1>
    <p class="lead text-muted">Your personal collection of saved recipes</p>
    <hr class="my-4">
  </div>

  <!-- Categories quick links -->
  <div class="row mb-5">
    <div class="col-12">
      <h4 class="mb-3">Filter by Category</h4>
      <div class="d-flex flex-wrap gap-2">
        <button 
          *ngFor="let category of categories" 
          class="btn" 
          [class.btn-primary]="selectedCategory === category"
          [class.btn-outline-secondary]="selectedCategory !== category"
          (click)="onFilterCategory(category)">
          {{ category }}
        </button>
      </div>
    </div>
  </div>

  <!-- Recipe grid -->
  <div class="row">
    <div class="col-12 mb-4">
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <div class="col" *ngFor="let recipe of filteredRecipes">
          <div class="card h-100">
            <img 
              [src]="recipe.imagePath" 
              [alt]="recipe.name" 
              class="card-img-top"
              style="height: 200px; object-fit: cover;">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-start">
                <h5 class="card-title">{{ recipe.name }}</h5>
                <button 
                  class="btn btn-link p-0 text-danger" 
                  (click)="removeFromFavorites(recipe, $event)">
                  <i class="bi bi-heart-fill"></i>
                </button>
              </div>
              <span class="badge bg-secondary mb-2">{{ recipe.category }}</span>
              <p class="card-text">{{ recipe.description | slice:0:100 }}...</p>
            </div>
            <a [routerLink]="['/recipes', recipe.id]" class="btn btn-primary mt-3">View Details</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty state -->
    <div class="col-12 text-center py-5" *ngIf="filteredRecipes.length === 0">
      <h5 class="text-muted" *ngIf="!selectedCategory">You haven't saved any recipes yet</h5>
      <h5 class="text-muted" *ngIf="selectedCategory">No saved recipes in this category</h5>
      <a routerLink="/recipe-book" class="btn btn-primary mt-3">Browse Recipes</a>
    </div>
  </div>
</div>
